/* ============================================================
   DataTables - Modern Clean Table Skin (Bootstrap-friendly)
   - Safe: δεν αλλάζει IDs / JS hooks
   - Uses your CSS vars if available (fallbacks included)
   ============================================================ */

/* ---------- Base tokens (fallbacks) ---------- */
:root {
  --dt-surface: var(--bg-color-primary, #ffffff);
  --dt-surface-2: var(--bg-color-secondary, #f6f7f9);
  --dt-header: var(--bg-table-optional, #f3f4f6);

  --dt-text: var(--text-color, #1f2937);
  --dt-muted: rgba(31, 41, 55, 0.72);

  --dt-border: rgba(31, 41, 55, 0.10);
  --dt-border-2: rgba(31, 41, 55, 0.08);

  --dt-link: var(--a-color, #0d6efd);
  --dt-accent: #0d6efd;

  --dt-radius: 12px;
  --dt-radius-sm: 10px;

  --dt-shadow: 0 8px 24px rgba(0, 0, 0, 0.06);
  --dt-shadow-sm: 0 6px 16px rgba(0, 0, 0, 0.06);

  --dt-row-hover: rgba(13, 110, 253, 0.04);
  --dt-row-selected: rgba(13, 110, 253, 0.10);
}

/* ============================================================
   Buttons (DT Buttons extension)
   ============================================================ */
button.dt-button,
div.dt-button,
a.dt-button,
input.dt-button {
  background: #fff !important;
  color: var(--dt-link) !important;
  border: 1px solid var(--dt-border) !important;
  border-radius: 999px !important;
  padding: 6px 10px !important;
  font-size: 0.85rem !important;
  line-height: 1 !important;
  box-shadow: none !important;
  transition: background 150ms ease, border-color 150ms ease, transform 80ms ease;
}

button.dt-button:hover,
div.dt-button:hover,
a.dt-button:hover,
input.dt-button:hover {
  background: var(--dt-surface-2) !important;
  border-color: rgba(13,110,253,.25) !important;
}

button.dt-button:active:not(.disabled),
button.dt-button.active:not(.disabled),
div.dt-button:active:not(.disabled),
div.dt-button.active:not(.disabled),
a.dt-button:active:not(.disabled),
a.dt-button.active:not(.disabled),
input.dt-button:active:not(.disabled),
input.dt-button.active:not(.disabled) {
  transform: translateY(1px);
  box-shadow: none !important;
}

button.dt-button.buttons-columnVisibility.active {
  background: rgba(13,110,253,.08) !important;
  border-color: rgba(13,110,253,.35) !important;
  color: var(--dt-text) !important;
}

/* Collection dropdown */
div.dt-button-collection {
  background: #fff !important;
  border: 1px solid var(--dt-border) !important;
  border-radius: var(--dt-radius-sm) !important;
  box-shadow: var(--dt-shadow-sm) !important;
  padding: 8px !important;
  min-width: 260px !important;
}

div.dt-button-collection button.dt-button {
  width: 100% !important;
  border-radius: 10px !important;
  justify-content: flex-start !important;
  margin: 4px 0 !important;
}

/* ============================================================
   Table wrapper / layout
   ============================================================ */
table.dataTable {
  width: 100% !important;
  border-collapse: separate !important;
  border-spacing: 0 !important;
  background: var(--dt-surface);
  color: var(--dt-text);
  border: 1px solid var(--dt-border);
  border-radius: var(--dt-radius);
  overflow: hidden;
}

table.dataTable.no-footer {
  border-bottom: 1px solid var(--dt-border) !important;
}

/* Header */
table.dataTable thead th,
table.dataTable thead td {
  /* background: var(--dt-header) !important; */
  color: var(--dt-muted) !important;
  font-weight: 650;
  font-size: 0.86rem;
  letter-spacing: 0.2px;
  border-bottom: 1px solid var(--dt-border) !important;
  padding: 12px 14px !important;
  white-space: nowrap;
}

/* Rounded corners */
table.dataTable thead th:first-child {
  border-top-left-radius: var(--dt-radius) !important;
}
table.dataTable thead th:last-child {
  border-top-right-radius: var(--dt-radius) !important;
}
table.dataTable tbody tr:last-child td:first-child {
  border-bottom-left-radius: var(--dt-radius) !important;
}
table.dataTable tbody tr:last-child td:last-child {
  border-bottom-right-radius: var(--dt-radius) !important;
}

/* Body */
table.dataTable tbody tr {
  background: var(--dt-surface);
  transition: background 140ms ease;
}

table.dataTable tbody tr:hover {
  background: var(--dt-row-hover) !important;
}

table.dataTable tbody th,
table.dataTable tbody td {
  font-size: 0.93rem !important;
  padding: 14px 14px !important;
  border-bottom: 1px solid var(--dt-border-2);
  vertical-align: middle;
}

/* Remove bootstrap striped forcing */
.table-striped tbody tr:nth-of-type(odd) {
  background-color: transparent !important;
}

/* Selected row */
table.dataTable tbody > tr.selected,
table.dataTable tbody > tr > .selected {
  background: var(--dt-row-selected) !important;
  color: var(--dt-text) !important;
}

/* Empty state */
table.dataTable td.dataTables_empty {
  color: rgba(180, 20, 20, 0.9) !important;
  padding: 48px 12px !important;
  font-weight: 600;
}

/* ============================================================
   DataTables controls (length / filter / info / paginate)
   ============================================================ */
.dataTables_wrapper .dataTables_length,
.dataTables_wrapper .dataTables_filter {
  margin: 8px 0;
  color: var(--dt-muted);
}

.dataTables_wrapper .dataTables_length label,
.dataTables_wrapper .dataTables_filter label {
  font-size: 0.92rem !important;
  color: var(--dt-muted) !important;
}

.dataTables_wrapper .dataTables_filter input {
  font-size: 0.95rem !important;
  border-radius: 10px !important;
  border: 1px solid var(--dt-border) !important;
  background: var(--dt-surface) !important;
  color: var(--dt-text) !important;
  padding: 8px 10px !important;
  outline: none !important;
  box-shadow: none !important;
  transition: border-color 150ms ease, background 150ms ease;
}

.dataTables_wrapper .dataTables_filter input:focus {
  border-color: rgba(13,110,253,.35) !important;
  background: #fff !important;
}

.dataTables_wrapper .dataTables_info {
  font-size: 0.92rem;
  color: var(--dt-muted);
  margin-top: 8px;
}

/* Pagination */
.dataTables_wrapper .dataTables_paginate {
  margin-top: 10px !important;
}

.dataTables_wrapper .dataTables_paginate .paginate_button {
  border: 1px solid transparent !important;
  background: transparent !important;
  color: var(--dt-link) !important;
  padding: 5px 10px !important;
  margin: 0 2px !important;
  border-radius: 10px !important;
  cursor: pointer !important;
  transition: background 140ms ease, border-color 140ms ease;
}

.dataTables_wrapper .dataTables_paginate .paginate_button:hover {
  background: var(--dt-surface-2) !important;
  border-color: var(--dt-border) !important;
  text-decoration: none !important;
}

.dataTables_wrapper .dataTables_paginate .paginate_button.current {
  background: rgba(13,110,253,.10) !important;
  border-color: rgba(13,110,253,.25) !important;
  color: var(--dt-text) !important;
}

/* Disabled */
.dataTables_wrapper .dataTables_paginate .paginate_button.disabled,
.dataTables_wrapper .dataTables_paginate .paginate_button.disabled:hover {
  opacity: 0.55;
  cursor: default !important;
  background: transparent !important;
  border-color: transparent !important;
}

/* ============================================================
   Responsive control icon (dtr-control)
   ============================================================ */
table.dataTable.dtr-inline.collapsed > tbody > tr > td.dtr-control,
table.dataTable.dtr-inline.collapsed > tbody > tr > th.dtr-control {
  padding-left: 42px !important;
  position: relative;
}

table.dataTable.dtr-inline.collapsed > tbody > tr > td.dtr-control:before,
table.dataTable.dtr-inline.collapsed > tbody > tr > th.dtr-control:before {
  display: flex !important;
  align-items: center;
  justify-content: center;
  height: 1.25em !important;
  width: 1.25em !important;
  position: absolute;
  left: 14px;
  top: 50%;
  transform: translateY(-50%);
  color: var(--dt-text) !important;
  border: 1px solid rgba(13,110,253,.25) !important;
  border-radius: 999px;
  box-shadow: none !important;
  box-sizing: content-box;
  text-align: center;
  text-indent: 0 !important;
  font-family: "bootstrap-icons" !important;
  line-height: 1.25em !important;
  content: "\f282" !important; /* plus */
  background: #fff !important;
}

table.dataTable.dtr-inline.collapsed > tbody > tr.parent > td.dtr-control:before,
table.dataTable.dtr-inline.collapsed > tbody > tr.parent > th.dtr-control:before {
  content: "\f286" !important; /* dash/minus */
  background: rgba(13,110,253,.10) !important;
  border-color: rgba(13,110,253,.35) !important;
}

/* Child row */
table.dataTable > tbody > tr.child {
  background: var(--dt-surface-2) !important;
}

/* ============================================================
   Borders - keep your “clean” look with soft separators
   ============================================================ */
.table-bordered > :not(caption) > * {
  border-width: 1px 0;
  border-color: transparent;
  border-bottom-color: var(--dt-border-2);
}
.table-bordered > :not(caption) > * > * {
  border-width: 0 0px;
}

/* ============================================================
   Actions: keep your hover-reveal pattern but DRY
   ============================================================ */
table tr > td > :is(.edit-actions,.edit-rates,.edit-reservation,.edit-offSeason) a,
table tr > td > :is(.edit-actions,.edit-rates,.edit-reservation,.edit-offSeason) .edit,
table tr > td > :is(.edit-actions,.edit-rates,.edit-reservation,.edit-offSeason) .delete {
  color: transparent !important;
  transition: color 120ms ease;
  text-decoration: none !important;
}

table tr:hover td > :is(.edit-actions,.edit-rates,.edit-reservation,.edit-offSeason) a,
table tr:hover td > :is(.edit-actions,.edit-rates,.edit-reservation,.edit-offSeason) .edit,
table tr:hover td > :is(.edit-actions,.edit-rates,.edit-reservation,.edit-offSeason) .delete {
  color: var(--dt-link) !important;
}

table tr:hover td > :is(.edit-actions,.edit-rates,.edit-reservation,.edit-offSeason) .delete a,
table tr:hover td > :is(.edit-actions,.edit-rates,.edit-reservation,.edit-offSeason) .delete {
  color: #dc3545 !important;
}

table tr > td > :is(.edit-actions,.edit-rates,.edit-reservation,.edit-offSeason) a:hover {
  color: rgba(31,41,55,.65) !important;
}

/* ============================================================
   Utility leftovers you already use
   ============================================================ */
.user-thumb {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  position: relative;
  overflow: hidden;
  background-repeat: no-repeat;
  background-position: center center;
  border: 1px solid rgba(31,41,55,.12);
  background-size: cover;
  background-color: rgba(31,41,55,.04);
}

table#users_table {
  width: 99.5% !important;
}

/* ============================================================
   Mobile tweaks
   ============================================================ */
@media (max-width: 767px) {
  div.dt-button-collection {
    position: absolute !important;
    top: 50% !important;
    transform: translate(0, -50%) !important;
    left: 5% !important;
  }

  .dataTables_wrapper .dataTables_length,
  .dataTables_wrapper .dataTables_filter {
    text-align: right !important;
  }

  .dataTables_wrapper .dataTables_length {
    float: left !important;
  }

  /* On mobile, show actions always (if you rely on hover reveal) */
  table tr > td > :is(.edit-actions,.edit-rates,.edit-reservation,.edit-offSeason) a,
  table tr > td > :is(.edit-actions,.edit-rates,.edit-reservation,.edit-offSeason) .edit,
  table tr > td > :is(.edit-actions,.edit-rates,.edit-reservation,.edit-offSeason) .delete {
    color: var(--dt-link) !important;
  }
}
